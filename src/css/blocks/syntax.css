/* Syntax highlighting — Tailwind Gray / Sky / Teal / Colour palette
   Backgrounds: light = gray-100 (#f3f4f6) · dark = gray-800 (#1f2937)

   Light: 4-level Gray hierarchy on gray-100
   gray-900  #111827  16.60 : 1
   gray-700  #374151   9.44 : 1
   gray-600  #4b5563   6.83 : 1
   red-700   #b91c1c   5.94 : 1  ← deleted only

   Dark: full-colour token set on gray-800
   gray-300   #d1d5db   9.85 : 1  (punctuation / comments — italic distinguishes)
   teal-300   #5eead4   9.80 : 1  (property / boolean / numeric)
   sky-300    #7dd3fc   8.62 : 1  (function / class)
   sky-400    #38bdf8   6.76 : 1  (keyword / atrule)
   green-300  #86efac  10.34 : 1  (string / inserted)
   amber-200  #fde68a  11.67 : 1  (operator / entity / url)
   orange-400 #fb923c   6.35 : 1  (deleted)
   purple-300 #d8b4fe   8.11 : 1  (regex / variable)
*/

.prose pre {
  color: var(--color-text);
  background-color: var(--color-code-bg);
}

.prose pre code {
  color: inherit;
}

/* ── Light mode ─────────────────────────────────────────────────────────────
   gray-600 serves comments, punctuation, property, and operators — visually
   unified "structural" tokens; italic and semantic context distinguish them.
*/

code .token.comment,
code .token.prolog,
code .token.doctype,
code .token.cdata {
  color: var(--color-gray-600);   /* 6.83 : 1 */
  font-style: italic;
}

code .token.punctuation {
  color: var(--color-gray-600);   /* 6.83 : 1 */
}

code .token.property,
code .token.tag,
code .token.boolean,
code .token.number,
code .token.constant,
code .token.symbol {
  color: var(--color-gray-600);   /* 6.83 : 1 */
}

code .token.deleted {
  color: var(--color-red-700);     /* 5.94 : 1 */
}

code .token.selector,
code .token.attr-name,
code .token.string,
code .token.char,
code .token.builtin,
code .token.inserted {
  color: var(--color-gray-700);   /* 9.44 : 1 */
}

code .token.operator,
code .token.entity,
code .token.url {
  color: var(--color-gray-600);   /* 6.83 : 1 */
}

code .token.atrule,
code .token.attr-value,
code .token.keyword {
  color: var(--color-gray-900);   /* 16.60 : 1 */
}

code .token.function,
code .token.class-name {
  color: var(--color-gray-700);   /* 9.44 : 1 */
}

code .token.regex,
code .token.important,
code .token.variable {
  color: var(--color-gray-600);   /* 6.83 : 1 */
}

/* ── Dark mode ──────────────────────────────────────────────────────────────
   Full-colour token set; all shades pass AA or better on gray-800.
*/

@media (prefers-color-scheme: dark) {
  code .token.comment,
  code .token.prolog,
  code .token.doctype,
  code .token.cdata {
    color: var(--color-gray-300);  /* 9.85 : 1 — italic distinguishes from punctuation */
    font-style: italic;
  }

  code .token.punctuation {
    color: var(--color-gray-300);  /* 9.85 : 1 */
  }

  code .token.property,
  code .token.tag,
  code .token.boolean,
  code .token.number,
  code .token.constant,
  code .token.symbol {
    color: var(--color-teal-300);   /* 9.80 : 1 */
  }

  code .token.deleted {
    color: var(--color-orange-400); /* 6.35 : 1 */
  }

  code .token.selector,
  code .token.attr-name,
  code .token.string,
  code .token.char,
  code .token.builtin,
  code .token.inserted {
    color: var(--color-green-300);  /* 10.34 : 1 */
  }

  code .token.operator,
  code .token.entity,
  code .token.url {
    color: var(--color-amber-200);  /* 11.67 : 1 */
  }

  code .token.atrule,
  code .token.attr-value,
  code .token.keyword {
    color: var(--color-sky-400);    /* 6.76 : 1 */
  }

  code .token.function,
  code .token.class-name {
    color: var(--color-sky-300);    /* 8.62 : 1 */
  }

  code .token.regex,
  code .token.important,
  code .token.variable {
    color: var(--color-purple-300); /* 8.11 : 1 */
  }
}
